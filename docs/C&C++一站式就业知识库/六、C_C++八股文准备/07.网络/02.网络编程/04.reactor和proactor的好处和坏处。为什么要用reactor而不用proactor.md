# 04.reactor和proactor的好处和坏处。为什么要用reactor而不用proactor

# 04.reactor和proactor的好处和坏处。为什么要用reactor而不用proactor


Reactor和Proactor都是常见的I/O多路复用模型，其主要区别在于事件驱动模式和数据驱动模式。下面是它们的优缺点以及为什么要使用Reactor而不是Proactor的原因：



Reactor的优点：



1. 应用程序通过回调函数处理I/O事件，避免了线程创建、同步、销毁等开销。
2. Reactor采用同步I/O，可以直接操作文件描述符，避免了额外的内存拷贝开销。
3. Reactor对于大量短连接场景效果更好，因为没有额外的数据传输和处理阻塞等待。



Reactor的缺点：



1. 需要手动控制缓冲区大小和拆包粘包问题。
2. 对于大量长连接场景效果较差，需要占用大量线程资源导致系统崩溃。



Proactor的优点：



1. 应用程序通过异步回调函数处理I/O事件，避免了线程创建、同步、销毁等开销。
2. Proactor采用异步I/O，在完成后自动触发回调函数，避免了阻塞等待问题。
3. Proactor适合长连接场景，并且可以利用操作系统提供的零拷贝技术减少数据传输开销。



Proactor的缺点：



1. 由于应用程序无法直接操作文件描述符，需要进行数据拷贝和缓冲区管理等额外开销。
2. Proactor对于大量短连接场景效果较差，因为异步I/O需要占用大量内存资源导致系统崩溃。



综上所述，Reactor适合处理大量短连接的请求，而Proactor适合处理大量长连接的请求。由于在实际应用中大多数场景是短连接，在性能、可靠性和易用性方面Reactors更优秀一些。



> 更新: 2024-04-19 15:33:49  
> 原文: <https://www.yuque.com/linuxer/gscfv1/53f52cd1f3588e605e0b346e1843bc61>