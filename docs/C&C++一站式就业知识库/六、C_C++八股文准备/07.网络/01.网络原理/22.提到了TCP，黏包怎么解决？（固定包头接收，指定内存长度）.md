# 22.提到了TCP，黏包怎么解决？（固定包头接收，指定内存长度）

# 22.提到了TCP，黏包怎么解决？（固定包头接收，指定内存长度）


黏包问题是指在传输过程中多个数据包被合并成了一个或者一个数据包被拆分成了多个，造成接收方无法正确解析。解决黏包问题的方法主要有以下两种：



1. 固定包头接收：发送方在每个数据包前加上固定长度的头部信息，接收方先读取头部信息获取数据包长度，再根据长度截取对应的数据。这样可以保证每次接收到的数据都是完整的。
2. 指定内存长度：发送方在每个数据包前不添加任何头部信息，而是在尾部添加一个特殊字符（例如换行符“\n”），接收方按照特殊字符进行切割，并且预先给缓存区分配足够长的空间来容纳整个消息。这样也能确保接收到的数据都是完整的。



> 更新: 2024-04-19 15:33:40  
> 原文: <https://www.yuque.com/linuxer/gscfv1/937ec0ca5214154eb99f548c47429638>