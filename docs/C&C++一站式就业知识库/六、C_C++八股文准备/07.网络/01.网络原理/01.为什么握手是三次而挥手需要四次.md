# 01.为什么握手是三次而挥手需要四次

# 01.为什么握手是三次而挥手需要四次


TCP的三次握手是为了建立可靠的连接。具体来说，客户端发送一个SYN包到服务器，表示自己想要建立连接。服务器收到这个包后，回复一个SYN+ACK包，表示自己已经收到请求，并且同意建立连接。最后，客户端再发送一个ACK包，表示自己也已经收到了服务器的回复，并且同意建立连接。



这里之所以要进行三次握手，是因为TCP是面向连接的协议，需要确保双方都正确地接收到了对方的请求，才能建立可靠的连接。通过三次握手的方式，可以确保连接的双方都认可了对方的身份和可用性，从而避免了因为网络延迟等原因导致连接建立失败的情况。



四次挥手是为了关闭连接。具体来说，当客户端想要关闭连接时，发送一个FIN包到服务器，表示自己不再发送数据了。服务器收到这个包后，回复一个ACK包，表示自己已经收到了请求。但是服务器可能还没有发送完自己的数据，所以服务器在发送完数据后，会再次发送一个FIN包，表示自己也不再发送数据了。客户端收到这个包后，回复一个ACK包，表示自己已经收到了服务器的请求，同时也准备关闭连接了。



四次挥手之所以要比三次握手多一次，是因为在关闭连接时，双方都需要确认自己的数据已经全部传输完毕，才能安全地关闭连接。另外，因为TCP具有可靠传输的特点，所以在关闭连接时需要先停止数据的发送，等待对方完成传输后再关闭连接，从而避免数据丢失或被截断。



> 更新: 2024-04-19 15:33:11  
> 原文: <https://www.yuque.com/linuxer/gscfv1/840d012c1587bdc9e002e89fc4359f3b>