# 21.信号量和自旋锁的区别

# 21.信号量和自旋锁的区别


信号量：信号量本质上是一个整数值，和PV函数一起使用保证临界区的原子性。在linux内核中用于互斥。信号量可以被休眠



自旋锁：不能被休眠（如中断处理程序），一个自旋锁是一个互斥设备，它只能是两个值，锁定和解锁。自旋锁通常比信号量性能更高，但当存在自旋锁时，等待执行忙循环的处理器做不了任何有用的工作。



区别：



1、 自旋锁会导致死循环，锁定期间不允许阻塞，因此要求锁定的临界区小；



```plain
     信号量允许阻塞，可以使用于临界区大的情况。
```



2、自旋锁实际上是忙等待，自旋锁可能导致系统死锁，自旋锁期间不能调用可能引起调度的函数。如：copy_from_user(),copy_to_user(),kamlloc().



```plain
     信号量：进程获取不到信号量的时候，不会自旋而是进入睡眠的等待状态。
```



> 更新: 2024-04-19 15:32:45  
> 原文: <https://www.yuque.com/linuxer/gscfv1/832c0521d7ad66e19320434eb1e95a03>