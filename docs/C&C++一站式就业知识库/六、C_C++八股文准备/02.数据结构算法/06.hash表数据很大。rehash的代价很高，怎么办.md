# 06.hash表数据很大。rehash的代价很高，怎么办

# 06.hash表数据很大。rehash的代价很高，怎么办


当哈希表的数据量很大时，确实会面临rehash代价高的问题。为了解决这个问题，可以考虑以下两种方法：



1. 增加初始容量：在创建哈希表时，可以设置一个较大的初始容量，这样可以减少扩容的次数和代价。同时，在插入元素时，也可以提前预留一定的空间。
2. 使用增量式rehash：将rehash操作分批进行，每次只将部分桶中的数据搬移到新哈希表中，并且在该阶段内维护两个哈希表。通过这种方式可以避免一次性大规模地重新哈希所有数据造成的代价高昂问题。



> 更新: 2024-04-19 15:31:11  
> 原文: <https://www.yuque.com/linuxer/gscfv1/e55bc674b9eb403cef16a07a68b5bdd2>