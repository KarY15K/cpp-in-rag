# 12.如果new了之后出了问题直接return。会导致内存泄漏。怎么办（智能指针，raii）

# 12.如果new了之后出了问题直接return。会导致内存泄漏。怎么办（智能指针，raii）


1.检查。在return的时候，**判断指针是否为空**，如果为[空指针](https://so.csdn.net/so/search?q=%E7%A9%BA%E6%8C%87%E9%92%88&spm=1001.2101.3001.7020)，再进行return。



2.可以使用[智能指针](https://so.csdn.net/so/search?q=%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88&spm=1001.2101.3001.7020)。



> 更新: 2024-04-19 15:30:07  
> 原文: <https://www.yuque.com/linuxer/gscfv1/5de789624492546064aa0b3823b78ddf>