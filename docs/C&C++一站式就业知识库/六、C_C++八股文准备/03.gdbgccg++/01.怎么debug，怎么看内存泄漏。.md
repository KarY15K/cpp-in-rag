# 01.怎么debug，怎么看内存泄漏。

# 01.怎么debug，怎么看内存泄漏。


如何 Debug：



1. 打印日志：在关键处添加输出语句，打印变量的值、函数执行状态等信息，可以快速定位代码问题。
2. 断点调试：在关键函数或代码块设置断点，通过单步执行来查看变量的值和程序的执行过程，可以更细致地定位问题。
3. 使用工具：常用的工具包括 GDB、Valgrind 等。GDB 可以进行断点调试和查看内存信息；Valgrind 可以检测内存泄漏、非法内存访问等问题。



如何查看内存泄漏：



1. 使用 Valgrind 工具中的 Memcheck 功能，运行程序时添加参数 --tool=memcheck，然后会自动分析出哪些地方存在内存泄漏。
2. 在编写代码时，在申请内存后必须要释放该内存，这样可以避免内存泄漏产生。在使用 malloc() 和 new 申请堆空间时一定要配套使用 free() 和 delete 来释放空间。
3. 对于 C++ 中容器类 vector、map 等对象，在不需要使用时及时清空或删除其中元素和对象指针，避免其持有无用资源导致内存泄漏。
4. 对于长时间运行的进程应当注意监控系统资源情况，并及时排查并解决可能存在的内存泄漏问题。



> 更新: 2024-04-19 15:31:38  
> 原文: <https://www.yuque.com/linuxer/gscfv1/8add2ae731fb3c5ed49c8d18488affb4>